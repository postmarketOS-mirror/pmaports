From 299564aaa9eda5062d81ac12cd6e32e7b6ec7f17 Mon Sep 17 00:00:00 2001
From: Ivan Semkin <ivan@semkin.ru>
Date: Wed, 20 Jun 2018 00:20:25 +0300
Subject: [PATCH] Only use Hybris when available

---
 src/ubuntu/CMakeLists.txt             | 4 +++-
 src/ubuntu/application/CMakeLists.txt | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/src/ubuntu/CMakeLists.txt b/src/ubuntu/CMakeLists.txt
index ad988cd..c74b722 100644
--- a/src/ubuntu/CMakeLists.txt
+++ b/src/ubuntu/CMakeLists.txt
@@ -1,2 +1,4 @@
 add_subdirectory(application)
-add_subdirectory(hardware)
+if(Hybris)
+  add_subdirectory(hardware)
+endif()
diff --git a/src/ubuntu/application/CMakeLists.txt b/src/ubuntu/application/CMakeLists.txt
index 211d476..6db0633 100644
--- a/src/ubuntu/application/CMakeLists.txt
+++ b/src/ubuntu/application/CMakeLists.txt
@@ -14,7 +14,9 @@ include_directories(../../bridge)
 
 add_subdirectory(common)
 add_subdirectory(desktop)
-add_subdirectory(touch)
+if(Hybris)
+  add_subdirectory(touch)
+endif()
 add_subdirectory(testbackend)
 
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} --std=c++11 -fPIC")
-- 
2.27.0

